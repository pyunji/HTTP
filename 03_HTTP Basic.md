# λ¨λ“  κ²ƒμ΄ HTTP
- HTTP (**H**yper**T**ext **T**ransfer **P**rotocol)
- κ±°μ λ¨λ“  λ°μ΄ν„°λ¥Ό HTTPλ΅ μ „μ†΅
	- μ‹¬μ§€μ–΄ μ„λ²„ κ°„ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›μ„ λ•λ„ λ€λ¶€λ¶„ HTTPλ¥Ό μ‚¬μ©
- HTTP/1.1 λ²„μ „μ΄ κ°€μ¥ μ¤‘μ”ν•¨

## HTTP νΉμ§•
- ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(stateless), λΉ„μ—°κ²°μ„±
- HTTP λ©”μ‹μ§€λ΅ ν†µμ‹ 
- λ‹¨μν•¨, ν™•μ¥ κ°€λ¥





# ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°

- request - response κµ¬μ΅°
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚΄κ³ , μ‘λ‹µμ„ λ€κΈ°
- μ„λ²„κ°€ μ”μ²­μ— λ€ν• κ²°κ³Όλ¥Ό λ§λ“¤μ–΄ μ‘λ‹µ





# Stateful, Stateless

## Stateless
- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μƒνƒλ¥Ό λ³΄μ΅΄ν•μ§€ μ•μ
- μ¥μ : μ„λ²„ ν™•μ¥μ„± λ†’μ(μ¤μΌ€μΌ μ•„μ›ƒ)
- λ‹¨μ : ν΄λΌμ΄μ–ΈνΈκ°€ μ¶”κ°€ λ°μ΄ν„° μ „μ†΅



## Stateful μμ‹
### μƒνƒ μ μ§€ - Stateful

- κ³ κ°: μ΄ **λ…ΈνΈλ¶** μ–Όλ§μΈκ°€μ”?
- μ μ›: 100λ§μ› μ…λ‹λ‹¤. **(λ…ΈνΈλ¶ μƒνƒ μ μ§€)**



- κ³ κ°: **2κ°** κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›: 200λ§μ› μ…λ‹λ‹¤. **μ‹ μ©μΉ΄λ“, ν„κΈ**μ¤‘ μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ν•μ‹κ² μ–΄μ”? **(λ…ΈνΈλ¶, 2κ° μƒνƒ μ μ§€)**



- κ³ κ°: μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤. **(λ…ΈνΈλ¶, 2κ°, μ‹ μ©μΉ΄λ“ μƒνƒ μ μ§€)**

### μƒνƒ μ μ§€ - Stateful, μ μ›μ΄ μ¤‘κ°„μ— λ°”λ€λ©΄?
- κ³ κ°: μ΄ **λ…ΈνΈλ¶** μ–Όλ§μΈκ°€μ”?
- μ μ›**A**: 100λ§μ› μ…λ‹λ‹¤. 



- κ³ κ°: **2κ°** κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›**B**: ? λ¬΄μ—‡μ„ 2κ° κµ¬λ§¤ν•μ‹κ² μ–΄μ”?



- κ³ κ°: μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›**C**: ? λ¬΄μ¨ μ ν’μ„? λ‡ κ°λ¥Ό? μ‹ μ©μΉ΄λ“λ΅ κµ¬λ§¤ν•μ‹κ² μ–΄μ”?
## Stateless μμ‹
### λ¬΄μƒνƒ - Stateless

- κ³ κ°: μ΄ **λ…ΈνΈλ¶** μ–Όλ§μΈκ°€μ”?
- μ μ›: 100λ§μ› μ…λ‹λ‹¤.



- κ³ κ°: **λ…ΈνΈλ¶ 2κ°** κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›: λ…ΈνΈλ¶ 2κ°λ” 200λ§μ› μ…λ‹λ‹¤. **μ‹ μ©μΉ΄λ“, ν„κΈ**μ¤‘ μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ν•μ‹κ² μ–΄μ”?



- κ³ κ°: **λ…ΈνΈλ¶ 2κ°λ¥Ό μ‹ μ©μΉ΄λ“**λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤. 


### λ¬΄μƒνƒ - Stateless, μ μ›μ΄ μ¤‘κ°„μ— λ°”λ€λ©΄?

- κ³ κ°: μ΄ **λ…ΈνΈλ¶** μ–Όλ§μΈκ°€μ”?
- μ μ›**A**: 100λ§μ› μ…λ‹λ‹¤.



- κ³ κ°: **λ…ΈνΈλ¶ 2κ°** κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›**B**: λ…ΈνΈλ¶ 2κ°λ” 200λ§μ› μ…λ‹λ‹¤. **μ‹ μ©μΉ΄λ“, ν„κΈ**μ¤‘ μ–΄λ–¤ κ±Έλ΅ κµ¬λ§¤ν•μ‹κ² μ–΄μ”?



- κ³ κ°: **λ…ΈνΈλ¶ 2κ°λ¥Ό μ‹ μ©μΉ΄λ“**λ΅ κµ¬λ§¤ν•κ² μµλ‹λ‹¤.
- μ μ›**C**: 200λ§μ› κ²°μ  μ™„λ£λμ—μµλ‹λ‹¤. 

## Stateful, Stateless μ°¨μ΄

### Stateful

- μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€λ©΄ μ•λλ‹¤.
  - (μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€” λ• μƒνƒ μ •λ³΄λ¥Ό λ‹¤λ¥Έ μ μ›μ—κ² λ―Έλ¦¬ μ•λ ¤μ¤μ•Ό ν•λ‹¤.)



- ν•­μƒ κ°™μ€ μ„λ²„κ°€ μ μ§€λμ–΄μ•Ό ν•λ‹¤.
  - μ μ§€λλ μ„λ²„κ°€ μ¤‘κ°„μ— μ¥μ• κ°€ λ‚λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ²μλ¶€ν„° λ‹¤μ‹ μ”μ²­ν•΄μ•Όν•λ‹¤.

### Stateless

- μ¤‘κ°„μ— λ‹¤λ¥Έ μ μ›μΌλ΅ λ°”λ€μ–΄λ„ λλ‹¤.
- κ°‘μκΈ° κ³ κ°μ΄ μ¦κ°€ν•΄λ„ μ μ›μ„ λ€κ±° ν¬μ…ν•  μ μλ‹¤.
- κ°‘μκΈ° ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ μ¦κ°€ν•΄λ„ μ„λ²„λ¥Ό λ€κ±° ν¬μ…ν•  μ μλ‹¤.



- Statelessλ” μ‘λ‹µ μ„λ²„λ¥Ό μ‰½κ² λ°”κΏ€ μ μλ‹¤. **->λ¬΄ν•ν• μ„λ²„ μ¦μ„¤ κ°€λ¥**
- μ¤μΌ€μΌ μ•„μ›ƒ - μν‰ ν™•μ¥ μ λ¦¬



## Stateless μ‹¤λ¬΄ ν•κ³„

- λ¨λ“  κ²ƒμ„ λ¬΄μƒνƒλ΅ μ„¤κ³„ν•  μ μλ” κ²½μ°λ„ μκ³  μ—†λ” κ²½μ°λ„ μλ‹¤.
- λ¬΄μƒνƒ
  - ex) λ΅κ·ΈμΈμ΄ ν•„μ” μ—†λ” λ‹¨μν• μ„λΉ„μ¤ μ†κ° ν™”λ©΄
- μƒνƒμ μ§€
  - ex) λ΅κ·ΈμΈ
  - λ΅κ·ΈμΈν• μ‚¬μ©μμ κ²½μ° λ΅κ·ΈμΈ ν–λ‹¤λ” μƒνƒλ¥Ό μ„λ²„μ— μ μ§€
  - μΌλ°μ μΌλ΅ λΈλΌμ°μ € μΏ ν‚¤μ™€ μ„λ²„ μ„Έμ…λ“±μ„ μ‚¬μ©ν•΄μ„ μƒνƒ μ μ§€
  - μƒνƒ μ μ§€λ” μµμ†ν•λ§ μ‚¬μ©



# λΉ„ μ—°κ²°μ„±(Connectionless)

- HTTPλ” κΈ°λ³Έμ΄ μ—°κ²°μ„ μ μ§€ν•μ§€ μ•λ” λ¨λΈ
- μΌλ°μ μΌλ΅ μ΄ λ‹¨μ„μ μ΄ν•μ λΉ λ¥Έ μ†λ„λ΅ μ‘λ‹µ
- 1μ‹κ°„ λ™μ• μμ²λ…μ΄ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•΄λ„ μ‹¤μ  μ„λ²„μ—μ„ λ™μ‹μ— μ²λ¦¬ν•λ” μ”μ²­μ€ μμ‹­κ° μ΄ν•λ΅ λ§¤μ° μ‘μ
  - ex) μ›Ή λΈλΌμ°μ €μ—μ„ κ³„μ† μ—°μ†ν•΄μ„ κ²€μƒ‰ λ²„νΌμ„ λ„λ¥΄μ§€λ” μ•κΈ°μ—
- μ„λ²„ μμ›μ„ λ§¤μ° ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μμ

## ν•κ³„μ™€ κ·Ήλ³µ

- TCP/IP μ—°κ²°μ„ μƒλ΅ λ§Ίμ–΄μ•Ό ν•¨
  - 3 way handshake μ‹κ°„ μ¶”κ°€

- μ›Ή λΈλΌμ°μ €λ΅ μ‚¬μ΄νΈλ¥Ό μ”μ²­ν•λ©΄ HTML λΏλ§ μ•„λ‹λΌ μλ°”μ¤ν¬λ¦½νΈ, css, μ¶”κ°€ μ΄λ―Έμ§€ λ“± μ λ§μ€ μμ›μ΄ ν•¨κ» λ‹¤μ΄λ΅λ“ λ¨
- μ§€κΈμ HTTPλ” μ§€μ† μ—°κ²°(Persistent Connections)λ΅ λ¬Έμ  ν•΄κ²°
- HTTP/2, HTTP/3μ—μ„ λ” λ§μ€ μµμ ν™”κ°€ μ΄λ£¨μ–΄μ΅μ

### μ¤ν…μ΄νΈλ¦¬μ¤λ¥Ό κΈ°μ–µν•μ - μ„λ²„ κ°λ°μλ“¤μ΄ μ–΄λ ¤μ›ν•λ” μ—…λ¬΄

- μ •λ§ κ°™μ€ μ‹κ°„μ— λ”± λ§μ¶”μ–΄ λ°μƒν•λ” λ€μ©λ‰ νΈλν”½
  - ex) μκ°•μ‹ μ²­, μ„ μ°©μ μ΄λ²¤νΈ -> μλ§λ… λ™μ‹ μ”μ²­

#### Statelessμ™€ λΉ„μ—°κ²°μ„±

- λΉ„μ—°κ²°μ„±: TCP/IP μ»¤λ„¥μ… μ—°κ²°μ„ μ§€μ†ν•μ§€ μ•λ”λ‹¤λ” λ»
- Stateless: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ μ‚¬μ΄μ— μƒνƒλ¥Ό μ μ§€ν•μ§€ μ•λ”λ‹¤λ” λ»




# HTTP λ©”μ‹μ§€ κµ¬μ΅°

- start-line μ‹μ‘ λΌμΈ
- header ν—¤λ”
- empty line κ³µλ°± λΌμΈ(CRLF)
- message body
## μ‹μ‘ λΌμΈ
### μ‹μ‘ λΌμΈ - μ”μ²­ λ©”μ‹μ§€

π‘‰ GET /search?q=markdown&hl=ko HTTP/1.1

- start-line = **request-line** / status-line
- **request-line** = `HTTP λ©”μ„λ“` ` SPκ³µλ°±` `request-target(μ”μ²­λ€μƒ κ²½λ΅)` ` SP` `HTTP-version` `CRLF`

#### μ‹μ‘ λΌμΈ - μ”μ²­ λ©”μ‹μ§€ - HTTP λ©”μ„λ“

π‘‰ **GET** /search?q=markdown&hl=ko HTTP/1.1

- μΆ…λ¥ : GET, POST, PUT, DELETE...
- μ„λ²„κ°€ μν–‰ν•΄μ•Ό ν•  λ™μ‘ μ§€μ •
  - GET: λ¦¬μ†μ¤ μ΅°ν
  - POST: μ”μ²­ λ‚΄μ—­ μ²λ¦¬

#### μ‹μ‘ λΌμΈ - μ”μ²­ λ©”μ‹μ§€ - μ”μ²­ λ€μƒ

π‘‰ GET **/search?q=markdown&hl=ko** HTTP/1.1

- `absolute-path[?query]` : `μ λ€κ²½λ΅[?μΏΌλ¦¬]`
- μ λ€κ²½λ΅: `/`λ΅ μ‹μ‘ν•λ” κ²½λ΅

#### μ‹μ‘ λΌμΈ - μ”μ²­ λ©”μ‹μ§€ - HTTP λ²„μ „

π‘‰ GET /search?q=markdown&hl=ko **HTTP/1.1**

- HTTP Version



### μ‹μ‘ λΌμΈ - μ‘λ‹µ λ©”μ‹μ§€

π‘‰ HTTP/1.1 200 OK

- start-line = request-line / **status-line**
- **status-line** = `HTTP-version` `SP` `status-code` `SP` `reason-phrase` `CRLF`



- HTTP λ²„μ „
- HTTP μƒνƒ μ½”λ“: μ”μ²­ μ„±κ³µ, μ‹¤ν¨λ¥Ό λ‚νƒ€λƒ„
  - 200: μ„±κ³µ
  - 400: ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ¤λ¥
  - 500: μ„λ²„ λ‚΄λ¶€ μ¤λ¥
- μ΄μ  λ¬Έκµ¬: μ‚¬λμ΄ μ΄ν•΄ν•  μ μλ” μ§§μ€ μƒνƒ μ½”λ“ μ„¤λ… κΈ€



## HTTP ν—¤λ”

- header-filed = `field-name:` `OWS` `field-value` `OWS`
  - OWS: λ„μ–΄μ“°κΈ° ν—μ©
- filed-nameμ€ λ€μ†λ¬Έμ κµ¬λ¶„ μ—†μ

π‘‰

```text
Host: www.google.com
```

π‘‰

```text
Content-Type: text/html;charset=UTF-8

Content-Length: 3423
```

### HTTP ν—¤λ” - μ©λ„

- HTTP μ „μ†΅μ— ν•„μ”ν• λ¨λ“  λ¶€κ°€μ •λ³΄
  - ex) λ©”μ‹μ§€ λ°”λ””μ λ‚΄μ©, λ©”μ‹μ§€ λ°”λ””μ ν¬κΈ°, 
  - μ••μ¶•, μΈμ¦,
  - μ”μ²­ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €) μ •λ³΄, μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ •λ³΄, μΊμ‹ κ΄€λ¦¬ μ •λ³΄ ...
- ν‘μ¤€ ν—¤λ”κ°€ λ„λ¬΄ λ§μ
- ν•„μ”μ‹ μ„μμ ν—¤λ” μ¶”κ°€ κ°€λ¥



## HTTP λ©”μ‹μ§€ λ°”λ””

- μ‹¤μ  μ „μ†΅ν•  λ°μ΄ν„°κ°€ λ“¤μ–΄μμ
- HTML λ¬Έμ„, μ΄λ―Έμ§€, μμƒ, JSON λ“±λ“± byteλ΅ ν‘ν„ν•  μ μλ” λ¨λ“  λ°μ΄ν„° μ „μ†΅ κ°€λ¥

## HTTP μ •λ¦¬
- HTTP λ©”μ‹μ§€μ— λ¨λ“  κ²ƒμ„ μ „μ†΅
- ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°
- λ¬΄μƒνƒ ν”„λ΅ν† μ½(stateless), λΉ„μ—°κ²°μ„±
- HTTP λ©”μ‹μ§€λ΅ ν†µμ‹ 
- λ‹¨μν•¨, ν™•μ¥ κ°€λ¥
- μ§€κΈμ€ HTTPμ μ‹λ€